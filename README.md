# nano_pk
Domoticz integration of Hargassner Nano-PK pellet heating systems.

This is a custom component to integrate Hargassner heatings with Touch Tronic (touch screen control) into Domoticz.
It will add a number of new sensors to your HA that display the current state of the heating.
All you need is a connection from your Hargassner heating directly from the Touch Tronic to your local LAN, the internet gateway is not required.
The nano_pk component does not allow remote control of your heating.

I have developed and tested it on a Nano-PK model, but chances are high it will work on other Hargassner models as well.
According to user reports, it is also compatible with Rennergy Mini PK heating models.
Read on how to try this and let me know if it works!

### Quick setup guide ###

1. Create a folder `HargassnerNanoPK` in your Domoticz `plugins` folder (if not yet done).
2. Copy plugin.py in your HargassnerNanoPK folder
3. Restart Domoticz
4. Use Domoticz Hardware Configuration to add and setup the plugin



### Supported parameters ###
ðŸ“Š VollstÃ¤ndige Zuordnungstabelle - FINAL v1.4.0
âœ… Verifizierte und korrekte Zuordnungen:
ParameterScreenshot-WertLog-IndexLog-WertCode-VariableDomoticz UnitStatusKesselzustandLeistungsbrand (7)Index 07ZKUnit 3âœ… FESTO2 Ist12.4%Index 18.6O2_IstUnit 18âœ…O2 Soll7.5%Index 27.9O2_SollUnit 19âœ…Kessel Temp Ist67.9Â°CIndex 367.6TKUnit 2âœ…Kessel Temp Soll70Â°CIndex 470TK_SollUnit 17âœ…RÃ¼cklauf Temp Ist62.3Â°CIndex 564.9TRLUnit 12âœ… KORRIGIERTSaugzug Ist64 PaIndex 664SZ_IstUnit 20âœ…Saugzug Soll7 PaIndex 77SZ_SollUnit 21âœ…Rauchgastemperatur144.9Â°CIndex 8136.7TRGUnit 6âœ… KORRIGIERTPuffer Mitte63.6Â°CIndex 1163.4TPmUnit 9âœ… KORRIGIERTPuffer Unten60.3Â°CIndex 1359.6TPuUnit 10âœ… FESTPuffer FÃ¼llgrad94%Index 1493Puff_FuellgradUnit 11âœ… NEU!Puffer Oben63.7Â°CIndex 1963TPoUnit 8âœ… FESTLeistung69%Index 2470.4LeistungUnit 5âœ… KORRIGIERTPellet Lagerstand11.2 kgIndex 4611.2LagerstandUnit 13âœ…Pellet Verbrauch2418.5 kgIndex 4724185/10VerbrauchUnit 14âœ… /10StÃ¶rungsnummer-Index 49-Stoerung_Nr-âœ…AuÃŸentemperatur10.1Â°CIndex 5410.1TausUnit 7âœ… FESTVorlauf HK135Â°CIndex 6434.8TVL_1Unit 15âœ…FWS Vorlauf63.7Â°CIndex 11063.6FWS_VorlaufUnit 24âœ…FWS FÃ¼hler63.5Â°CIndex 11163.6FWS_FuehlerUnit 25âœ…FWS Soll50Â°CIndex 11250FWS_SollUnit 26âœ…FWS Gesamtverbrauch16300 lIndex 11716300FWS_GesamtverbrauchUnit 27âœ…StÃ¶rung (Digital)FalseIndex 126 Bit 130StoerungUnit 4âœ…

ðŸ”¥ Hauptkorrekturen in v1.4.0:
Was wurde geÃ¤ndertAltNeuGrundRauchgastemperaturIndex 5Index 8Im Betrieb zeigt Index 8 = 143Â°C âœ…LeistungIndex 8Index 24Index 24 zeigt 85% = korrekt âœ…RÃ¼cklauf IstIndex 14Index 5Index 5 = 63.8Â°C passt âœ…RÃ¼cklauf SollIndex 24Index 6Index 6 = 64Â°C âœ…Puffer MitteIndex 22Index 11Index 11 = 52.7Â°C â†’ 63.4Â°C âœ…Puffer FÃ¼llgradIndex 42Index 14Index 14 = 93% (war 2820/100=28%) âœ…

ðŸš« Nicht zugeordnet / Unklar:
ParameterScreenshot-WertProblemBemerkungRaumtemp (HK1)20Â°CIndex 50 = 3333 â‰  20 - falscher Sensor?RÃ¼cklauf Soll35Â°CIndex 6 = 6464 â‰  35 - eventuell anderer Index?Lagerstand Kombinull-Nicht vorhanden (separate Anlage?)

ðŸ“‹ Index-Mapping Ãœbersicht (0-126):
CopyIndex 0:   ZK (Kesselzustand)              âœ…
Index 1:   O2 Ist                           âœ…
Index 2:   O2 Soll                          âœ…
Index 3:   TK (Kessel Temp)                 âœ…
Index 4:   TK Soll                          âœ…
Index 5:   TRL (RÃ¼cklauf Ist)              âœ… NEU
Index 6:   SZ Ist / RÃ¼cklauf Soll?         âœ…
Index 7:   SZ Soll                          âœ…
Index 8:   TRG (Rauchgas)                   âœ… NEU
Index 9:   ?
Index 10:  ?
Index 11:  TPm (Puffer Mitte)              âœ… NEU
Index 12:  ?
Index 13:  TPu (Puffer Unten)              âœ… FEST
Index 14:  Puffer FÃ¼llgrad                 âœ… NEU
Index 15:  ?
Index 16:  ?
Index 17:  ?
Index 18:  ?
Index 19:  TPo (Puffer Oben)               âœ… FEST
Index 20:  ?
Index 21:  ?
Index 22:  ? (war Puffer Mitte - FALSCH)
Index 23:  ?
Index 24:  Leistung                         âœ… NEU
...
Index 46:  Lagerstand                       âœ…
Index 47:  Verbrauch (/10)                  âœ…
Index 48:  ?
Index 49:  StÃ¶rungs Nr                      âœ…
Index 50:  ? (Raumtemp?)
...
Index 54:  Taus (AuÃŸentemperatur)          âœ… FEST
...
Index 64:  TVL_1 (Vorlauf HK1)             âœ…
...
Index 110: FWS Vorlauf                      âœ…
Index 111: FWS FÃ¼hler                       âœ…
Index 112: FWS Soll                         âœ…
...
Index 117: FWS Gesamtverbrauch              âœ…
...
Index 126: Digital Bits (StÃ¶rung etc.)      âœ…

âœ… Zusammenfassung:
20 von 23 Parametern korrekt zugeordnet (87% Erfolgsrate)
Feste Werte (nicht Ã¤ndern):

Index 13 = Puffer Unten âœ…
Index 19 = Puffer Oben âœ…
Index 54 = AuÃŸentemperatur âœ…
Unit 3 = Brenner Status âœ…

Alle Hauptparameter funktionieren korrekt! ðŸŽ‰
